<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="utf-8">
  <title> Análise da Qualidade do Ar Carioca </title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="./style.css"/>
  <!-- Leaflet.js -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css"
   integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ=="
   crossorigin=""/>
  <script src="https://unpkg.com/leaflet@1.6.0/dist/leaflet.js"
   integrity="sha512-gZwIG9x3wUXg2hdXF6+rVkLF/0Vi9U8D2Ntg4Ga5I5BZpVkVxlJWbSQtXPSiUTtC0TjtGOmxa1AJPuV0CPthew=="
   crossorigin=""></script>
  <!-- ApexCharts.js -->
  <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
</head>
<body>
  <script>const NET = true;</script>
  <!-- Utilities -->
  <script src="./util.js"></script>
  <header>
    <h1> Análise da Qualidade do Ar </h1>
    <p class="subtitle">
      Além de características físico-químicas da atmosfera carioca
    </p>
  </header>
  <main>
    <section>
      <p> Aqui está o mapa indicando todas as estações mapeadas: </p>
      <figure>
        <div id="map"></div>
        <figcaption>
          Mapa com a localização das estações mapeadas e zonas as quais
          pertencem.
        </figcaption>
      </figure>
      <script src="./visuals/map.js"></script>
    </section>
    <section>
      <fieldset>
        <legend> Sumário </legend>
        <nav>
          <ol>
            <li>
              <a href="#iqar">IQAR</a>
              <ol>
                <li>
                  <a href="#tijuca-o3">
                    IQAR para poluente O<sub>3</sub>, na Tijuca
                  </a>
                </li>
                <li>
                  <a href="#tijuca-no2">
                    IQAR para poluente NO<sub>2</sub>, na Tijuca
                  </a>
                </li>
              </ol>
            </li>
            <li>
              <a href="#temp">Temperaturas</a>
            </li>
            <li>
              <a href="#dew">
                Ponto de orvalho, temperatura e umidade relativa
              </a>
            </li>
          </ol>
        </nav>
      </fieldset>
    </section>
    <section id="iqar">
      <h2> IQAR </h2>
      <p>
        IQAR é um valor numérico compreendido entre 0 e 300. Categoriza a
        qualidade do ar nas seguintes seções:
      </p>
      <dl>
        <dt>Boa</dt>
        <dd>
          IQAR na faixa 0–50;<br>
          A qualidade do ar é satisfatória e apresenta pouco ou nenhum risco
          para a saúde da população.
        </dd>
        <dt>Regular</dt>
        <dd>
          IQAR na faixa 51–100;<br>
          Nesta faixa, a qualidade do ar é aceitável. Porém, as concentrações
          existentes no ar podem causar uma preocupação moderada à saúde para
          um número muito pequeno de indivíduos. Pessoas com extrema
          sensibilidade ao ozônio e ao material particulado podem experimentar
          problemas respiratórios.
        </dd>
        <dt>Inadequada</dt>
        <dd>
          IQAR na faixa 101–199;<br>
          Os membros de grupos sensíveis podem ter efeitos na saúde, mas a
          população em geral não é afetada. Pessoas com doença pulmonar,
          doenças cardíacas, crianças e idosos são considerados como grupos
          mais sensíveis e, portanto, de maior risco.
        </dd>
        <dt>Má</dt>
        <dd>
          IQAR na faixa 200–299;<br>
          Toda a população começa a sentir os efeitos na saúde quando os
          valores estão compreendidos nesta faixa.
        </dd>
        <dt>Péssima</dt>
        <dd>
          IQAR igual ou maior a 300;<br>
          Quando estes valores são atingidos, deve ser dado um alerta à
          população, pois todos podem experimentar efeitos na saúde.
        </dd>
      </dl>
    </section>
    <section id="tijuca-o3">
      <p>
        O gráfico a seguir mostra as 50 medições mais recentes do IQAR para
        O<sub>3</sub>, medido na estação da Tijuca.
      </p>
      <h2> IQAR para poluente O<sub>3</sub> </h2>
      <figure>
        <div id="chart-ozone"></div>
        <figcaption>
          Índice de Qualidade do Ar para o poluente O<sub>3</sub> (ozônio), como
          medido na estação da Tijuca.
        </figcaption>
      </figure>
      <p>
        Percebe-se picos, porém nenhuma medição fica acima do nível "Regular". A
        qualidade do ar é aceitável.
      </p>
      <script src="./visuals/o3.js"></script>
    </section>
    <section id="tijuca-no2">
      <p>
        Este gráfico, por sua vez, mostra a variação das últimas 50 medições de
        IQAR para o poluente NO<sub>2</sub>, como medido na estação da Tijuca.
      </p>
      <h2> IQAR para poluente NO<sub>2</sub> </h2>
      <figure>
        <div id="chart-nitrogen"></div>
        <figcaption>
          Índice de Qualidade do Ar para o poluente NO<sub>2</sub> (dióxido de
          nitrogênio), como medido na estação da Tijuca.
        </figcaption>
      </figure>
      <p>
        Para NO<sub>2</sub>, o maior índice alcançado ocorre no dia
        <time id="max-no2-date"></time>, quando atinge um nível de
        <data id="max-no2-val"></data>. Contudo, esse nível continua sob a faixa
        "Regular", e é portanto aceitável.
      </p>
      <script src="./visuals/no2.js"></script>
    </section>
    <section><hr></section>
    <section id="temp">
      <p>
        A seguir, analisamos dados sobre as temperaturas registradas:
      </p>
      <h2> Temperaturas </h2>
      <article class="side-by-side">
        <dl>
          <dt> Maior temperatura </dt>
          <dd>
            A maior temperatura detectada foi de <data id="max-temp-val"></data>&nbsp;°C,
            no dia <time id="max-temp-date"></time> às <time id="max-temp-time"></time>,
            pela estação <cite id="max-temp-station"></cite>.
          </dd>
          <dt> Menor temperatura </dt>
          <dd>
            A menor temperatura detectada foi de <data id="min-temp-val"></data>&nbsp;°C,
            no dia <time id="min-temp-date"></time> às <time id="min-temp-time"></time>,
            pela estação <cite id="min-temp-station"></cite>.
          </dd>
          <dt> Temperatura média </dt>
          <dd>
            A temperatura média de todas as análises, indicada ao lado em preto,
            é de (a&shy;pro&shy;xi&shy;ma&shy;da&shy;men&shy;te) <data id="avg-temp-val"></data>&nbsp;°C.
          </dd>
        </dl>
        <figure>
          <div id="chart-temperature"></div>
          <figcaption>
            Gráfico das temperaturas. A média é representada pela linha em preto.
          </figcaption>
        </figure>
      </article>
      <script src="./visuals/temperature.js"></script>
    </section>
    <section><hr></section>
    <section id="dew">
      <p>
        Nesta seção, veremos informações sobre o chamado "ponto de orvalho".
      </p>
      <blockquote cite="https://pt.wikipedia.org/wiki/Ponto_de_orvalho">
        <p>
          Ponto de orvalho designa a temperatura na qual o vapor de água
          presente no ar ambiente passa ao estado líquido na forma de pequenas
          gotas por via da condensação, o chamado <em>orvalho</em>.
        </p>
      </blockquote>
      <p>
        Para calcular o ponto de orvalho com alta precisão, utiliza-se a equação
        de Arden Buck, que relaciona temperatura, pressão e umidade relativa.
        Porém, a fórmula é muito complexa, então usaremos a seguinte aproximação,
        com <q cite="https://pt.wikipedia.org/wiki/Ponto_de_orvalho">precisão de
        ±1&nbsp;°C enquanto a umidade está acima de 50%</q>:
      </p>
      <figure class="center">
        <!-- Tpo ~ T - (100 - UR)/5 -->
        <img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/3adc6a8c559515b7b02790f7364fdab20eeb6554">
        <figcaption>
          Aproximação da equação de Arden Buck.
        </figcaption>
      </figure>
      <p>
        Onde:
        <ul>
          <li><var>T<sub>po</sub></var> é o ponto de orvalho (o que queremos);</li>
          <li><var>T</var> é a temperatura do ar;</li>
          <li><var>UR</var> é a Umidade Relativa do ar.</li>
        </ul>
        Possuímos, pelas análises, tanto a temperatura do ar, quanto a umidade
        relativa. Portanto, podemos calcular o ponto de orvalho para um dado
        instante de tempo:
      </p>
      <h2> Ponto de orvalho, temperatura, pressão e umidade relativa </h2>
      <figure>
        <div id="chart-dewpoint"></div>
        <div id="chart-relhum"></div>
        <figcaption>
          Acima, comparação do ponto de orvalho com a temperatura (ambos medidos
          em °C); abaixo, umidade relativa do ar (em %) e pressão (em mbar).
        </figcaption>
      </figure>
      <p>
        Pelos gráficos, pode-se perceber como pressão e umidade relativa
        influenciam no ponto de orvalho.
      </p>
      <script src="./visuals/dewpoint.js"></script>
    </section>
  </main>
  <footer>
    <p>
      Feito com carinho por alunos da turma de 2019.2 da disciplina de Banco de
      Dados I da UFRJ!<br>O código-fonte deste projeto está
      <a href="https://github.com/leo-ventura/air-quality">disponível no GitHub</a>.
    </p>
  </footer>
</body>
</html>